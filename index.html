<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git ì›Œí¬í”Œë¡œìš° ë¹„ì£¼ì–¼ ì‹œë®¬ë ˆì´í„°</title>
    <style>
        /* --- ê¸°ë³¸ ìŠ¤íƒ€ì¼ --- */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');
        
        :root {
            --color-remote: #f0f6fc;
            --color-local: #f6f8fa;
            --color-main: #0969da;
            --color-feature: #1a7f37;
            --color-commit: #afb8c1;
            --border-color: #d0d7de;
            --text-color: #24292f;
            --bg-color: #ffffff;
        }

        /* ê³µí†µ ì»¨í…Œì´ë„ˆ í­/ì—¬ë°± ê·œì¹™: ì œëª©, ë²„íŠ¼, ë³¸ë¬¸, ë¡œê·¸ë¥¼ ë™ì¼ í­ìœ¼ë¡œ */
        h1, .controls, .process-panel, .main-container, .log-panel, .glossary-panel {
            width: 100%;
            max-width: 1200px;
            padding-left: 15px;
            padding-right: 15px;
            margin: 0 auto;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f6f8fa;
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            color: var(--color-main);
            border-bottom: 2px solid var(--border-color);
            padding: 0 15px 10px 15px;
        }

        /* --- ì»¨íŠ¸ë¡¤ íŒ¨ë„ --- */
        .controls {
            background: transparent;
            padding: 0 15px;
            border-radius: 0;
            border: none;
            box-shadow: none;
            margin-bottom: 20px;
            display: grid;
            gap: 10px;
            grid-template-columns: repeat(9, minmax(0, 1fr));
            align-items: stretch;
            /* í­/íŒ¨ë”©/ë§ˆì§„ì€ ê³µí†µ ê·œì¹™ìœ¼ë¡œ ê´€ë¦¬ */
        }

        /* ë‹¨ê³„ ì„¤ëª… íŒ¨ë„ */
        .process-panel { margin-top: 6px; }
        .process-card {
            background: #ffffff;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 14px 16px;
            box-shadow: 0 6px 18px rgba(2,6,23,0.06);
        }
        .process-title { margin: 0 0 6px 0; font-weight: 800; color: #0f172a; }
        .process-text { margin: 0; color: #334155; line-height: 1.6; }

        .controls button {
            background-color: var(--color-main);
            color: white;
            border: none;
            padding: 10px 10px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.08s ease-out, box-shadow 0.2s;
            box-shadow: 0 2px 8px rgba(9, 105, 218, 0.25);
            width: 100%;
            min-width: 0;
            white-space: normal;
            overflow: hidden;
            text-overflow: clip;
            min-height: 56px;
            line-height: 1.3;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
            text-align: center;
            word-break: keep-all;
            overflow-wrap: anywhere;
            margin: 15px 0;
        }

        .controls button:hover:not(:disabled) {
            background-color: #0366d6;
            transform: translateY(-1px);
            box-shadow: 0 8px 20px rgba(9, 105, 218, 0.28);
        }
        
        .controls button:disabled {
            background-color: #8c959f;
            cursor: not-allowed;
            box-shadow: none;
        }
        .controls button:active:not(:disabled) { transform: translateY(0); }
        .controls button:focus-visible { outline: 2px solid #80bfff; outline-offset: 2px; }

        /* --- ë©”ì¸ ë ˆì´ì•„ì›ƒ --- */
        .main-container {
            display: flex;
            gap: 20px;
            /* í­/íŒ¨ë”©/ë§ˆì§„ì€ ê³µí†µ ê·œì¹™ìœ¼ë¡œ ê´€ë¦¬ */
        }

        .repo-container {
            flex: 1;
            background-color: rgba(255,255,255,0.9);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(2, 6, 23, 0.06);
            backdrop-filter: saturate(140%) blur(2px);
        }

        .repo-container h2 {
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        #remote-repo { background-color: var(--color-remote); }
        #local-repo { background-color: var(--color-local); }

        /* --- ë¸Œëœì¹˜ ë° ì»¤ë°‹ ìŠ¤íƒ€ì¼ --- */
        .branch {
            margin-bottom: 15px;
            padding: 10px;
            border: 1px dashed var(--border-color);
            border-radius: 6px;
            background: linear-gradient(180deg, #ffffff 0%, #f9fbfd 100%);
        }
        
        .branch-name {
            font-weight: 700;
            padding: 5px 8px;
            border-radius: 15px;
            color: white;
            display: inline-block;
            margin-bottom: 10px;
        }
        
        .branch-name.main { background-color: var(--color-main); }
        .branch-name.feature { background-color: var(--color-feature); }

        .head-badge {
            display: inline-block;
            margin-left: 8px;
            padding: 3px 8px;
            border-radius: 12px;
            background: #fde68a;
            color: #1f2937;
            font-size: 11px;
            font-weight: 700;
            vertical-align: middle;
        }

        .commits {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .commit {
            background: linear-gradient(135deg, #cbd5e1 0%, #94a3b8 100%);
            padding: 8px 10px;
            border-radius: 4px;
            font-size: 12px;
            animation: fadeIn 0.5s;
            position: relative;
            color: #0b1220;
            box-shadow: inset 0 1px 0 rgba(255,255,255,0.6), 0 2px 6px rgba(2,6,23,0.12);
        }

        /* ìŠ¤í…Œì´ì§• ì˜ì—­ */
        .staging-area {
            margin-top: 12px;
            padding: 10px;
            border: 1px dashed #94a3b8;
            background: #f1f5f9;
            border-radius: 6px;
        }
        .staging-title { font-size: 12px; color: #334155; margin: 0 0 6px 0; font-weight: 700; }
        .staged-item {
            display: inline-block;
            padding: 6px 8px;
            margin: 0 6px 6px 0;
            font-size: 12px;
            background: #e2e8f0;
            color: #0f172a;
            border-radius: 6px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }

        /* --- ë¡œê·¸ íŒ¨ë„ --- */
        .log-panel {
            margin-top: 20px;
            /* í­/íŒ¨ë”©/ë§ˆì§„ì€ ê³µí†µ ê·œì¹™ìœ¼ë¡œ ê´€ë¦¬ */
        }

        /* ìš©ì–´ ì„¤ëª… ì¹´ë“œ */
        .glossary-panel {
            margin-top: 20px;
            /* ê³µí†µ í­ ê·œì¹™ ì ìš© */
        }
        .glossary-card {
            background: #ffffff;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 8px 24px rgba(2,6,23,0.06);
        }
        .glossary-card h3 { margin: 0 0 10px 0; }
        .glossary-list { margin: 0; padding-left: 18px; }
        .glossary-list li { margin: 6px 0; line-height: 1.5; }
        .glossary-emph { color: var(--color-main); font-weight: 700; font-style: normal; }

        #log-output {
            background-color: #24292f;
            color: #c9d1d9;
            font-family: 'Courier New', Courier, monospace;
            height: 240px;
            width: 100%;
            border-radius: 6px;
            padding: 15px;
            overflow-y: scroll;
            box-sizing: border-box;
            border: 1px solid var(--border-color);
            white-space: pre-wrap;
            box-shadow: 0 8px 26px rgba(2, 6, 23, 0.18);
        }
        /* ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°” */
        #log-output::-webkit-scrollbar { height: 8px; width: 8px; }
        #log-output::-webkit-scrollbar-thumb { background: #475569; border-radius: 8px; }
        #log-output::-webkit-scrollbar-track { background: #1f2937; }

        .log-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 8px;
        }
        .log-title {
            margin: 0;
            font-weight: 700;
        }
        .log-actions button {
            background: #374151;
            color: #e5e7eb;
            border: 1px solid #475569;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.08s ease-out, box-shadow 0.2s;
        }
        .log-actions button:hover { background: #4b5563; }
        .log-actions button:active { transform: translateY(0.5px); }
    </style>
</head>
<body>

    <h1>Git ì›Œí¬í”Œë¡œìš° ë¹„ì£¼ì–¼ ì‹œë®¬ë ˆì´í„°</h1>

    <div class="controls" id="controls">
        <button id="step-0">0. ì €ì¥ì†Œ ìƒì„±</button>
        <button id="step-1" disabled>1. git clone</button>
        <button id="step-2" disabled>2. git branch</button>
        <button id="step-3" disabled>3. git checkout</button>
        <button id="step-4" disabled>4. git commit (UI)</button>
        <button id="step-5" disabled>5. git commit (Logic)</button>
        <button id="step-6" disabled>6. git push</button>
        <button id="step-7" disabled>7. Create Pull Request</button>
        <button id="step-8" disabled>8. Merge Pull Request</button>
    </div>

    <div class="process-panel">
        <div class="process-card">
            <h3 class="process-title" id="process-title">í˜„ì¬ ë‹¨ê³„ ì•ˆë‚´</h3>
            <p class="process-text" id="process-text">ì¢Œì¸¡ì˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‹¨ê³„ë¥¼ ì‹œì‘í•˜ë©´ ì—¬ê¸°ì— ì‰¬ìš´ ë¹„ìœ ë¡œ ì„¤ëª…ì´ í‘œì‹œë©ë‹ˆë‹¤.</p>
        </div>
    </div>

    <div class="main-container">
        <div class="repo-container" id="remote-repo">
            <h2>â˜ï¸ GitHub ì›ê²© ì €ì¥ì†Œ</h2>
            <div id="remote-content"></div>
        </div>
        <div class="repo-container" id="local-repo">
            <h2>ğŸ’» ë‚´ ì»´í“¨í„° (ë¡œì»¬)</h2>
            <div id="local-content"></div>
        </div>
    </div>

    <div class="log-panel">
        <div class="log-header">
            <h3 class="log-title">ğŸ“œ ì‹¤í–‰ ë¡œê·¸</h3>
            <div class="log-actions">
                <button id="clear-log">ë¡œê·¸ ë¹„ìš°ê¸°</button>
            </div>
        </div>
        <div id="log-output"></div>
    </div>

    <div class="glossary-panel">
        <div class="glossary-card">
            <h3>ğŸ§­ ê¹ƒ í•µì‹¬ ìš©ì–´(ì¼ìƒ ë¹„ìœ ë¡œ ì‰½ê²Œ)</h3>
            <ul class="glossary-list">
                <li><strong>HEAD</strong>: ì±…ì—ì„œ ì§€ê¸ˆ ê½‚í˜€ ìˆëŠ” <span class="glossary-emph">ì±…ê°ˆí”¼</span>. ë‚´ê°€ í˜„ì¬ ë³´ê³  ìˆëŠ” í˜ì´ì§€(ë¸Œëœì¹˜ì˜ ë§ˆì§€ë§‰ ìƒíƒœ)ë¥¼ ê°€ë¦¬ì¼œìš”.</li>
                <li><strong>ì›Œí‚¹ ë””ë ‰í„°ë¦¬</strong>: ì§‘ ì±…ìƒ ìœ„ì— í¼ì³ ë†“ì€ <span class="glossary-emph">ì›ê³ </span>. ì—¬ê¸°ì„œ ì‹¤ì œë¡œ íŒŒì¼ì„ ê³ ì¹©ë‹ˆë‹¤.</li>
                <li><strong>ìŠ¤í…Œì´ì§• ì˜ì—­(Index)</strong>: ì œì¶œ ì „ í•„ìš”í•œ ì¢…ì´ë§Œ ê³¨ë¼ ë‹´ì•„ë‘ëŠ” <span class="glossary-emph">ì„œë¥˜ë´‰íˆ¬</span>. <code>git add</code>ë¡œ ë´‰íˆ¬ì— ë„£ê³ , ì»¤ë°‹í•˜ë©´ ë´‰íˆ¬ëŠ” ë¹„ì›Œì ¸ìš”.</li>
                <li><strong>ì»¤ë°‹</strong>: í˜„ì¬ ìƒíƒœë¥¼ ë”± ì°ì–´ ë‚¨ê¸°ëŠ” <span class="glossary-emph">ì‚¬ì§„</span>. ì„¤ëª…(ë©”ì‹œì§€)ê³¼ í•¨ê»˜ ì•¨ë²”(íˆìŠ¤í† ë¦¬)ì— ì €ì¥ë¼ìš”.</li>
                <li><strong>ë¸Œëœì¹˜</strong>: ê°™ì€ ì´ì•¼ê¸°ì˜ ë‹¤ë¥¸ <span class="glossary-emph">ì´ˆì•ˆ</span>. ì„œë¡œ ì˜í–¥ì„ ëœ ì£¼ê³  ê°ì ë‚´ìš©ì„ ë°œì „ì‹œí‚¬ ìˆ˜ ìˆì–´ìš”.</li>
                <li><strong>ë¡œì»¬/ì›ê²©</strong>: ë‚´ ì»´í“¨í„° í´ë”ëŠ” <span class="glossary-emph">ë‚´ ë°© ì„œë</span>, GitHubëŠ” <span class="glossary-emph">í´ë¼ìš°ë“œ ë³´ê´€í•¨</span>.</li>
                <li><strong>push</strong>/<strong>pull</strong>: ì„œëì˜ ë¬¸ì„œë¥¼ í´ë¼ìš°ë“œì— <span class="glossary-emph">ì˜¬ë¦¬ê¸°</span>/<span class="glossary-emph">ê°€ì ¸ì˜¤ê¸°</span>.</li>
                <li><strong>checkout</strong>: ì±…ê°ˆí”¼ë¥¼ ë‹¤ë¥¸ ì´ˆì•ˆìœ¼ë¡œ ì˜®ê²¨ì„œ <span class="glossary-emph">ì§€ê¸ˆ ë³¼ ê³³</span>ì„ ë°”ê¾¸ëŠ” ê²ƒ.</li>
                <li><strong>PR(Merge)</strong>: ë‚´ ì´ˆì•ˆì„ íŒ€ì— <span class="glossary-emph">ê²€í†  ìš”ì²­</span>í•˜ê³ , ê´œì°®ìœ¼ë©´ <span class="glossary-emph">ë³¸ë¬¸ì— í•©ì¹˜ê¸°</span>.</li>
            </ul>
        </div>
    </div>

    <script>
        class GitVisualSimulator {
            constructor() {
                this.githubRemote = null;
                this.localMachine = { repository: null, currentBranch: '', staging: [] };
                this.logOutput = document.getElementById('log-output');
                this.clearLogButton = document.getElementById('clear-log');
                this.processTitle = document.getElementById('process-title');
                this.processText = document.getElementById('process-text');
                this.controlButtons = document.querySelectorAll('.controls button');
                this.currentStep = 0;
                this.setupEventListeners();
                this.log('ì‹œë®¬ë ˆì´í„°ë¥¼ ì‹œì‘í•˜ë ¤ë©´ "0. ì €ì¥ì†Œ ìƒì„±" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.');
                this.updateProcessDescription(0);
            }

            log(message) {
                this.logOutput.innerHTML += `> ${message}\n`;
                this.logOutput.scrollTop = this.logOutput.scrollHeight; // ìë™ ìŠ¤í¬ë¡¤
            }

            // UI ë Œë”ë§ í•¨ìˆ˜
            render() {
                const remoteContent = document.getElementById('remote-content');
                const localContent = document.getElementById('local-content');

                // ì›ê²© ì €ì¥ì†Œ ë Œë”ë§
                remoteContent.innerHTML = '';
                if (this.githubRemote) {
                    for (const branchName in this.githubRemote.branches) {
                        remoteContent.innerHTML += this.createBranchHTML(branchName, this.githubRemote.branches[branchName]);
                    }
                }

                // ë¡œì»¬ ë¨¸ì‹  ë Œë”ë§
                localContent.innerHTML = '';
                if (this.localMachine.repository) {
                    for (const branchName in this.localMachine.repository.branches) {
                        const isActive = branchName === this.localMachine.currentBranch;
                        localContent.innerHTML += this.createBranchHTML(branchName, this.localMachine.repository.branches[branchName], isActive);
                    }
                    // ìŠ¤í…Œì´ì§• ì˜ì—­ ì‹œê°í™”
                    localContent.innerHTML += `
                        <div class="staging-area">
                            <p class="staging-title">ìŠ¤í…Œì´ì§• ì˜ì—­ (git add)</p>
                            <div>${this.localMachine.staging.length ? this.localMachine.staging.map(it => `<span class="staged-item">${it}</span>`).join('') : '<span style="color:#64748b;">ë¹„ì–´ìˆìŒ</span>'}</div>
                        </div>
                    `;
                }
            }
            
            createBranchHTML(branchName, commits, isActive = false) {
                const branchClass = branchName === 'main' ? 'main' : 'feature';
                const activeStyle = isActive ? 'border: 2px solid #fd8c73;' : '';
                let commitsHTML = commits.map(commit => `<div class="commit">${commit.message}</div>`).join('');
                
                return `
                    <div class="branch" style="${activeStyle}">
                        <div class="branch-name ${branchClass}">${branchName}${isActive ? '<span class="head-badge">HEAD</span>' : ''}</div>
                        <div class="commits">${commitsHTML}</div>
                    </div>
                `;
            }
            
            updateButtonStates() {
                this.controlButtons.forEach((btn, index) => {
                    btn.disabled = index !== this.currentStep;
                });
            }

            updateProcessDescription(stepIndex) {
                const map = {
                    0: {
                        title: '0. ì €ì¥ì†Œ ìƒì„±: ì‘ì—… ì•¨ë²” ë§Œë“¤ê¸°',
                        text: 'ìƒˆ í”„ë¡œì íŠ¸ì˜ ë¹ˆ ì•¨ë²”ì„ ë§Œë“œëŠ” ë‹¨ê³„ì˜ˆìš”. ì‚¬ì§„ì„ ë„£ì„ ìë¦¬ë¥¼ ë§ˆë ¨í•˜ëŠ” ì…ˆì´ì£ .'
                    },
                    1: {
                        title: '1. git clone: ì•¨ë²”ì„ ë‚´ ë°©ìœ¼ë¡œ ë³µì‚¬',
                        text: 'í´ë¼ìš°ë“œ ë³´ê´€í•¨ì— ìˆëŠ” ì•¨ë²”ì„ ë‚´ ë°© ì±…ìƒìœ¼ë¡œ ë³µì‚¬í•´ì™€ìš”. ì´ì œ ë‚´ ìë¦¬ì—ì„œ í¸í•˜ê²Œ ì‘ì—…í•  ìˆ˜ ìˆì–´ìš”.'
                    },
                    2: {
                        title: '2. git branch: ìƒˆë¡œìš´ ì´ˆì•ˆ ë§Œë“¤ê¸°',
                        text: 'ë³¸ ë¬¸ì„œë¥¼ ê±´ë“œë¦¬ì§€ ì•Šê³ , ë³„ë„ì˜ ì´ˆì•ˆ(ë¸Œëœì¹˜)ì„ ë§Œë“¤ì–´ ì•ˆì „í•˜ê²Œ ì‹¤í—˜í•´ìš”.'
                    },
                    3: {
                        title: '3. git checkout: ì±…ê°ˆí”¼ ì˜®ê¸°ê¸°',
                        text: 'ì§€ê¸ˆ ë³¼/ì‘ì—…í•  ì´ˆì•ˆìœ¼ë¡œ ì±…ê°ˆí”¼(HEAD)ë¥¼ ì˜®ê²¨ìš”.'
                    },
                    4: {
                        title: '4. git commit (UI): ì‚¬ì§„ í•œ ì¥ ì°ê¸°',
                        text: 'ë³€ê²½ íŒŒì¼ì„ ë´‰íˆ¬ì— ë‹´ì•„(git add) í˜„ì¬ ìƒíƒœë¥¼ ì‚¬ì§„ìœ¼ë¡œ ë‚¨ê²¨ìš”. UI ê´€ë ¨ ë³€ê²½ì„ ê¸°ë¡í•©ë‹ˆë‹¤.'
                    },
                    5: {
                        title: '5. git commit (Logic): ë˜ í•œ ì¥ ì°ê¸°',
                        text: 'ê¸°ëŠ¥(ë¡œì§) ë³€ê²½ì„ ìŠ¤í…Œì´ì§•í•˜ê³ , ë©”ì‹œì§€ì™€ í•¨ê»˜ ìƒˆë¡œìš´ ì‚¬ì§„(ì»¤ë°‹)ì„ ì¶”ê°€í•´ìš”.'
                    },
                    6: {
                        title: '6. git push: ì•¨ë²”ì„ í´ë¼ìš°ë“œì— ì˜¬ë¦¬ê¸°',
                        text: 'ë‚´ ë°© ì„œëì˜ ë³€ê²½ë¶„ì„ í´ë¼ìš°ë“œ ë³´ê´€í•¨(GitHub)ì— ì˜¬ë ¤ íŒ€ê³¼ ê³µìœ í•´ìš”.'
                    },
                    7: {
                        title: '7. Pull Request: ê²€í†  ìš”ì²­ ë³´ë‚´ê¸°',
                        text: 'ë‚´ ì´ˆì•ˆì„ ë³¸ ë¬¸ì„œì— í•©ì¹˜ìê³  íŒ€ì— ìš”ì²­í•´ìš”. ë¦¬ë·°í•˜ê³  ë¬¸ì œê°€ ì—†ìœ¼ë©´ ë³‘í•©í•©ë‹ˆë‹¤.'
                    },
                    8: {
                        title: '8. Merge: ë³¸ë¬¸ì— í•©ì¹˜ê¸°',
                        text: 'ê²€í† ê°€ ëë‚œ ì´ˆì•ˆì„ ë©”ì¸ ë¬¸ì„œì— í•©ì¹˜ê³ , ì„ì‹œ ì´ˆì•ˆì€ ì •ë¦¬í•´ìš”.'
                    }
                };
                const info = map[stepIndex] || { title: 'ë‹¨ê³„ ì•ˆë‚´', text: 'ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‹¨ê³„ë¥¼ ì§„í–‰í•˜ì„¸ìš”.' };
                this.processTitle.textContent = info.title;
                this.processText.textContent = info.text;
            }

            // ì‹œë®¬ë ˆì´ì…˜ ë‹¨ê³„ë³„ í•¨ìˆ˜
            steps = [
                // Step 0: ì €ì¥ì†Œ ìƒì„±
                () => {
                    this.log('...ì›ê²© ì €ì¥ì†Œë¥¼ ìƒì„±í•©ë‹ˆë‹¤...');
                    this.githubRemote = {
                        branches: { 'main': [{ id: 'c1', message: 'Initial commit' }] },
                        pullRequests: []
                    };
                    this.log('âœ… "my-project" ì›ê²© ì €ì¥ì†Œê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    this.render();
                },
                // Step 1: git clone
                () => {
                    this.log("ğŸ“¥ 'git clone' ì‹¤í–‰: ì›ê²© ì €ì¥ì†Œë¥¼ ë‚´ ì»´í“¨í„°ë¡œ ë³µì œí•©ë‹ˆë‹¤...");
                    this.localMachine.repository = JSON.parse(JSON.stringify(this.githubRemote));
                    this.localMachine.currentBranch = 'main';
                    this.log("âœ”ï¸ ë³µì œ ì™„ë£Œ!");
                    this.render();
                },
                // Step 2: git branch
                () => {
                    const branchName = 'feature/login';
                    this.log(`ğŸŒ¿ 'git branch ${branchName}' ì‹¤í–‰: ìƒˆ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤...`);
                    const currentCommits = this.localMachine.repository.branches[this.localMachine.currentBranch];
                    this.localMachine.repository.branches[branchName] = [...currentCommits];
                    this.log(`âœ”ï¸ '${branchName}' ë¸Œëœì¹˜ê°€ ë¡œì»¬ì— ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                    this.render();
                },
                // Step 3: git checkout
                () => {
                    const branchName = 'feature/login';
                    this.log(`ğŸš€ 'git checkout ${branchName}' ì‹¤í–‰: ì‘ì—… ë¸Œëœì¹˜ë¥¼ ë³€ê²½í•©ë‹ˆë‹¤...`);
                    this.localMachine.currentBranch = branchName;
                    this.log(`âœ”ï¸ í˜„ì¬ ì‘ì—… ë¸Œëœì¹˜ëŠ” '${branchName}' ì…ë‹ˆë‹¤.`);
                    this.render();
                },
                // Step 4: git commit 1
                () => {
                    // git add
                    this.localMachine.staging = ['login.html', 'login.css'];
                    this.log(`â• 'git add .' ì‹¤í–‰: ë³€ê²½ íŒŒì¼ì„ ìŠ¤í…Œì´ì§•í•©ë‹ˆë‹¤.`);
                    this.render();
                    // git commit
                    this.log(`ğŸ’¾ 'git commit' ì‹¤í–‰ (UI ê°œë°œ)...`);
                    const newCommit = { id: 'c2', message: 'Feat: ë¡œê·¸ì¸ UI ì¶”ê°€' };
                    this.localMachine.repository.branches[this.localMachine.currentBranch].push(newCommit);
                    this.localMachine.staging = [];
                    this.log(`âœ”ï¸ 'feature/login' ë¸Œëœì¹˜ì— ìƒˆ ì»¤ë°‹ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                    this.render();
                },
                // Step 5: git commit 2
                () => {
                    // git add
                    this.localMachine.staging = ['auth.js'];
                    this.log(`â• 'git add auth.js' ì‹¤í–‰: ë³€ê²½ íŒŒì¼ì„ ìŠ¤í…Œì´ì§•í•©ë‹ˆë‹¤.`);
                    this.render();
                    // git commit
                    this.log(`ğŸ’¾ 'git commit' ì‹¤í–‰ (ê¸°ëŠ¥ êµ¬í˜„)...`);
                    const newCommit = { id: 'c3', message: 'Feat: ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„' };
                    this.localMachine.repository.branches[this.localMachine.currentBranch].push(newCommit);
                    this.localMachine.staging = [];
                    this.log(`âœ”ï¸ 'feature/login' ë¸Œëœì¹˜ì— ìƒˆ ì»¤ë°‹ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                    this.render();
                },
                // Step 6: git push
                () => {
                    const branchName = this.localMachine.currentBranch;
                    this.log(`ğŸ“¤ 'git push origin ${branchName}' ì‹¤í–‰: ë¡œì»¬ ë³€ê²½ì‚¬í•­ì„ GitHubì— ì—…ë¡œë“œí•©ë‹ˆë‹¤...`);
                    this.githubRemote.branches[branchName] = [...this.localMachine.repository.branches[branchName]];
                    this.log(`âœ”ï¸ '${branchName}' ë¸Œëœì¹˜ê°€ ì›ê²© ì €ì¥ì†Œì— í‘¸ì‹œë˜ì—ˆìŠµë‹ˆë‹¤.`);
                    this.render();
                },
                // Step 7: Create Pull Request
                () => {
                    this.log(`ğŸ“¬ 'feature/login' â†’ 'main'ìœ¼ë¡œ Pull Requestë¥¼ ìƒì„±í•©ë‹ˆë‹¤...`);
                    this.githubRemote.pullRequests.push({ from: 'feature/login', to: 'main', status: 'OPEN' });
                    this.log(`âœ”ï¸ PRì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ íŒ€ì›ë“¤ì´ ì½”ë“œë¥¼ ë¦¬ë·°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`);
                    // UI ìƒìœ¼ë¡œëŠ” í° ë³€í™” ì—†ìŒ. ë¡œê·¸ë¡œ í‘œí˜„.
                },
                // Step 8: Merge Pull Request
                () => {
                    this.log(`ğŸ¤ PRì„ ë³‘í•©í•©ë‹ˆë‹¤...`);
                    const pr = this.githubRemote.pullRequests.find(p => p.status === 'OPEN');
                    if (pr) {
                        const sourceCommits = this.githubRemote.branches[pr.from];
                        const targetCommits = this.githubRemote.branches[pr.to];
                        const newCommits = sourceCommits.filter(sc => !targetCommits.some(tc => tc.id === sc.id));
                        this.githubRemote.branches[pr.to].push(...newCommits);
                        delete this.githubRemote.branches[pr.from];
                        pr.status = 'MERGED';
                        this.log(`âœ”ï¸ ë³‘í•© ì™„ë£Œ! 'feature/login' ë¸Œëœì¹˜ëŠ” ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`);
                        this.render();
                    }
                }
            ];

            setupEventListeners() {
                this.controlButtons.forEach((button, index) => {
                    button.addEventListener('click', () => {
                        if (index === this.currentStep && this.steps[index]) {
                            this.steps[index]();
                            this.currentStep++;
                            this.updateButtonStates();
                            this.updateProcessDescription(this.currentStep);
                        }
                        if (this.currentStep >= this.steps.length) {
                             this.log("ğŸ‰ ëª¨ë“  ì›Œí¬í”Œë¡œìš°ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ë‹¤ì‹œ ì‹œì‘í•˜ë ¤ë©´ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì„¸ìš”.");
                        }
                    });
                });
                this.updateButtonStates(); // ì´ˆê¸° ë²„íŠ¼ ìƒíƒœ ì„¤ì •

                // ë¡œê·¸ ë¹„ìš°ê¸°
                this.clearLogButton.addEventListener('click', () => {
                    this.logOutput.textContent = '';
                });
            }
        }
        
        // ì‹œë®¬ë ˆì´í„° ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
        new GitVisualSimulator();

    </script>
</body>
</html>